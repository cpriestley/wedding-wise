<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head >
    <th:block th:insert="~{fragments/fragments :: head}"></th:block>
    <meta charset="UTF-8">
    <title>Guest List Manager</title>
    <link rel="stylesheet" href="/css/guest_list.css"/>
</head>
<body>
<!--NAVBAR-->
<nav th:insert="~{fragments/fragments :: navbar}"></nav>
<!--CUSTOMER SIDEBAR-->
<div th:insert="~{fragments/fragments :: sidebarCustomer}"></div>
<!--VENDOR SIDEBAR-->
<div th:insert="~{fragments/fragments :: sidebarVendor}"></div>
<!--EDIT GUEST MODAL -->
<div id="editGuestModal" class="modal fade" role="dialog">
</div>
<!--ADD GUEST MODAL -->
<div id="addGuestModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div id="edit-guest-group-modal">
                <div class="modal-header">
                    <h3 id="guest-modal-title" class="mb-0">Add Guest</h3>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <form th:action="@{/clients/guests/add}" th:object="${guest}" method="post">
                            <div class="mb-2 row">
                                <div class="col">
                                    <label for="fname" class="form-label"></label>
                                    <input type="text" class="form-control" id="fname" th:field="*{fname}"
                                        placeholder="First Name">
                                </div>
                                <div class="col">
                                    <label for="lname" class="form-label"></label>
                                    <input type="text" class="form-control" id="lname" th:field="*{lname}"
                                        placeholder="Last Name">
                                </div>
                            </div>
                            <div class="mb-2 row">
                                <div class="col">
                                    <label for="email" class="form-label"></label>
                                    <input type="text" class="form-control" id="email" th:field="*{email}"
                                        placeholder="E-Mail">
                                </div>
                                <div class="col">
                                    <label for="phone" class="form-label"></label>
                                    <input type="tel" class="form-control" id="phone" th:field="*{phNumber}" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                                           placeholder="Phone Number">
                                </div>
                            </div>
                            <div class="mb-2">
                                <div class="row">
                                    <div class="col">
                                        <label for="street" class="form-label"></label>
                                        <input type="text" class="form-control" id="street" th:field="*{street}"
                                            placeholder="Street Address">
                                    </div>
                                    <div class="col">
                                        <label for="apt" class="form-label"></label>
                                        <input type="text" class="form-control" id="apt" th:field="*{aptNo}"
                                               placeholder="Apt.">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label for="city" class="form-label"></label>
                                        <input type="text" class="form-control" id="city" th:field="*{city}"
                                               placeholder="City">
                                    </div>
                                    <div class="col">
                                        <label for="state" class="form-label"></label>
                                        <select th:field="*{state}" id="state" class="form-select">
                                            <option th:value="xx">Select your State...</option>
                                            <option th:each="state : ${states}" th:text="${state}" th:value="${state}"></option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label for="zip" class="form-label"></label>
                                        <input type="text" class="form-control" id="zip" th:field="*{zip}"
                                               placeholder="Zip Code">
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-evenly mt-2">
                                <div class="ms-start">
                                    <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-dismiss="addGuestModal">Cancel</button>
                                </div>
                                <div class="d-flex justify-content-end w-100">
                                    <button class="btn btn-outline-secondary me-3" type="submit">Save & Close</button>
                                    <button class="btn btn-outline-secondary" type="submit">Save & Add More</button>
                                </div>

                            </div>
                            <label for="plus_one"></label>
                            <input type="hidden" class="form-check-input" id="plus_one" th:field="*{plusOne}">
                            <label for="rsvp"></label>
                            <input type="hidden" name="rsvp" id="rsvp" th:field="*{rsvp}">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<main>
    <div class="container p-4">
        <div class="card p-5">
            <h1 class="text-center fontTitle">Your Guests: 0000</h1>
            <div class="card p-5 m-5" id="card1">
                <div class="card-title text-center">
                    <h3 class="fontTitle">Attending: <span th:text="${attending}"></span></h3>
                </div>
                <hr>
                <div class="card-body text-center">
                    <p class="card-text font" >Guest Name-party number-email address-phone number-street address</p>
                    <hr>
                    <p class="card-text font" >Guest Name-party number-email address-phone number-street address</p>
                    <hr>
                    <p class="card-text font" >Guest Name-party number-email address-phone number-street address</p>
                </div>
            </div>
            <div class="card p-5 m-5" id="card2">
                <div class="card-title text-center">
                    <h3 class="fontTitle" >Regretfully Declined: <span th:text="${declined}"></span></h3>
                    <hr>
                </div>
                <div class="card-body text-center">
                    <p class="card-text font" >Guest Name-party number-email address-phone number-street address</p>
                    <hr>
                    <p class="card-text font" >Guest Name-party number-email address-phone number-street address</p>
                    <hr>
                    <p class="card-text font" >Guest Name-party number-email address-phone number-street address</p>
                </div>
            </div>
            <div class="card p-5 m-5 " id="card3">
                <div class="card-title text-center">
                    <h3 class="fontTitle">Invited: <span th:text="${invited}"></span></h3>
                    <div class="float-end">
                        <button type="button" class="btn font addModalBtn" data-bs-toggle="modal" data-bs-target="#addGuestModal">
                            Add Guest <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>
                <hr>
                <div class="card-body text-center mt-0 p-0">
                    <div class="d-flex align-items-center justify-content-around">
                        <table class="table table-hover card-text">
                            <thead>
                                <th></th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Plus One</th>
                                <th>Phone</th>
                                <th colspan="2"></th>
                            </thead>
                            <tbody class="font">
                                <tr th:each="guest : ${guestList}">
                                    <td>
                                        <button type="button" class="btn btn-outline-secondary font editModalBtn" data-bs-toggle="modal"
                                                data-bs-target="#editGuestModal">
                                            Edit <i class="fa-solid fa-pencil"></i>
                                        </button>
                                    </td>
                                    <td th:text="${guest.getFullName()}"></td>
                                    <td th:text="${guest.email}"></td>
                                    <td th:text="${guest.plusOne}"></td>
                                    <td th:text="${guest.phNumber}"></td>
                                    <td>
                                        <button type="button" class="btn btn-outline-secondary font">
                                            RSVP <i class="fa-regular fa-circle-check"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button type="button" class="btn btn-outline-secondary font">
                                            Decline <i class="fa-regular fa-circle-xmark"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!--FOOTER-->
<footer th:insert="~{fragments/fragments :: footer}"></footer>
<!--BOOTSTRAP-->
<div th:insert="~{fragments/fragments :: bootstrapJs}"></div>
<!--JAVASCRIPT-->
<script type="text/javascript" src="/guest_listModal.js"></script>
</body>
</html>